{{#and (eq books.length 0) (eq pagination.page 0)}}
  <div class="text-center text-gray-500 py-8">
    <h2 class="text-lg font-semibold mb-2">Ничего не найдено</h2>
    <p class="text-sm">Попробуйте изменить поисковый запрос или проверьте написание.</p>
  </div>
{{/and}}

{{#each books}}
  <a href="/books/{{ this.id }}" class="py-2 px-4 rounded-lg border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all flex flex-row justify-between" >
    <div class="flex flex-col">
      <h2 class="text-gray-900 font-semibold mb-1">{{ this.title }}</h1>
      <div class="flex flex-row gap-1">
      {{#each authors}}
      <h3 class="text-xs">{{ this.name }}</h3>
      {{/each}}
      </div>
    </div>
    <div class="text-sm text-gray-500">{{ this.yearCreated }}</div>
  </a>
{{/each}}

{{#if pagination.isEnd}}
  {{#if partial}}
    <button id="load-more-button" hx-swap-oob="delete"></button>
  {{/if}}
{{else}}
  <button 
    id="load-more-button"
    hx-swap-oob="true"
    class="cursor-pointer" 
    hx-get="/books"
    hx-vals='{ "q": "{{ query }}", "page": {{ pagination.nextPage }}, "partial": true }'
    hx-params="q, partial, page"
    hx-target="previous"
    hx-swap="afterend"
  >Еще</button>
{{/if}}
